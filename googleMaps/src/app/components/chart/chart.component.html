<div class="chart__container">
  <div class="chart__timeline">
    <span class="chart__time-point" *ngFor="let timePoint of timeline">
      {{
        timePoint.hour === '12'
          ? timePoint.format === 'AM'
            ? 'M'
            : 'N'
          : timePoint.hour
      }}
    </span>
  </div>
  <div class="chart__row" *ngFor="let row of rows">
    <div
      class="chart__cell-statistic-line"
      *ngFor="let chartEvent of chartEvents; let i = index"
      (click)="showAdditionalInformation(chartEvent)"
    >
      <div
        class="chart__cell-statistic-element"
        *ngIf="chartEvent.type === row.value"
        [style.background]="row.color"
        [style.width.px]="(cellWidthInPx * chartEvent.spent_minutes) / 60"
        [style.left.px]="
          (cellWidthInPx * chartEvent.minutes_from_day_start) / 60
        "
      >
        <div
          class="chart__cell-statistic-connector"
          *ngIf="i < chartEvents.length - 1"
          [style.background]="row.color"
          [style.height.px]="
            Math.abs(chartEvent.row_number - chartEvents[i + 1].row_number) *
            cellWidthInPx
          "
          [ngClass]="{
            'chart__cell-statistic-connector--top':
              chartEvent.row_number < chartEvents[i + 1].row_number,
            'chart__cell-statistic-connector--bottom':
              chartEvent.row_number > chartEvents[i + 1].row_number
          }"
        ></div>
      </div>
    </div>

    <span class="chart__cell-name" [style.color]="row.color">{{
      row.value
    }}</span>
    <div
      class="chart__cell-block"
      *ngFor="let cell of timeline"
      [style.minWidth.px]="cellWidthInPx"
    >
      <div class="chart__cell-lines">
        <span
          class="chart__cell-line chart__cell-line--short chart__cell-line--left"
          [ngClass]="{ 'chart__cell-line--reverse': row.cell_reverse }"
        ></span>
        <span
          class="chart__cell-line"
          [ngClass]="{ 'chart__cell-line--reverse': row.cell_reverse }"
        ></span>
        <span
          class="chart__cell-line chart__cell-line--short chart__cell-line--right"
          [ngClass]="{ 'chart__cell-line--reverse': row.cell_reverse }"
        ></span>
      </div>
    </div>
  </div>

  <div class="chart__slider">
    <div class="chart__slider-multi">
      <input type="range" class="slider__input slider__input--left" #inputLeft min="0" max="100" value="25">
      <input type="range" class="slider__input slider__input--right" #inputRight min="0" max="100" value="75">

      <div class="slider">
        <div class="track"></div>
        <div class="range"></div>
        <div class="thumb thumb--left"></div>
        <div class="thumb thumb--right"></div>
      </div>
    </div>
  </div>
</div>
